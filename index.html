<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Trinity De Soto — Calendar</title>
  <meta name="description" content="Monthly events & services at Trinity Episcopal Church, De Soto, MO. All are welcome.">
  <link rel="canonical" href="https://tonicyanbrock.github.io/trinity_calendar/">
  <meta name="theme-color" content="#6b7280">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Trinity Episcopal De Soto">
  <meta property="og:title" content="Trinity De Soto — Calendar">
  <meta property="og:description" content="Monthly events & services at Trinity Episcopal Church, De Soto, MO.">
  <meta property="og:url" content="https://tonicyanbrock.github.io/trinity_calendar/">
  <meta property="og:image" content="https://tonicyanbrock.github.io/trinity_calendar/assets/og-image.jpg?v=1">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Trinity Episcopal Church calendar banner">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Trinity De Soto — Calendar">
  <meta name="twitter:description" content="Monthly events & services at Trinity Episcopal Church, De Soto, MO.">
  <meta name="twitter:image" content="https://tonicyanbrock.github.io/trinity_calendar/assets/og-image.jpg?v=1">

  <style>
    :root{
      --panel:#ffffff; --ink:#0b1220; --muted:#475569;
      --accent:#16a34a; --accent-2:#2563eb;
      --grid:#64748b; --tint:#f8fafc;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;color:var(--ink);background:#fff}
    .app{max-width:980px;margin:14px auto;padding:12px;display:none}
    .header{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;align-items:center}
    .brand{display:flex;align-items:center;gap:10px}
    .brand h1{font-size:22px;margin:0;line-height:1.2}
    .banner{grid-column:1/-1;margin:6px 0 10px;padding:8px 10px;border:1px solid var(--grid);border-radius:12px;background:#f1f5f9;font-weight:700;text-align:center}
    .controls{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap}
    .controls button,.controls .month{border:1px solid var(--grid);background:#fff;padding:10px 12px;border-radius:12px;font-weight:800;cursor:pointer;font-size:14px}
    .controls .month{min-width:240px;text-align:center;cursor:default}
    .right{display:flex;gap:6px;justify-content:end;align-items:center;flex-wrap:wrap}
    .right input[type=search]{border:1px solid var(--grid);padding:10px 12px;border-radius:12px;font-size:14px;min-width:180px}
    .right .btn{border:1px solid var(--grid);padding:10px 12px;border-radius:12px;font-weight:800;cursor:pointer}
    .right .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
    .toggles{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:10px 0}
    .toggles label{font-size:12px;color:var(--muted);display:flex;align-items:center;gap:6px}
    .legend{display:flex;gap:10px;flex-wrap:wrap;font-size:12px;color:var(--muted)}
    .legend .chip{display:flex;align-items:center;gap:6px;border:1px solid var(--grid);border-radius:999px;padding:4px 8px;background:#fff}
    .legend .sw{width:10px;height:10px;border-radius:3px;border:1px solid #0002}

    /* calendar frame */
    .calendar{background:var(--panel);border:1px solid var(--grid);border-radius:8px;overflow:hidden;margin-top:8px}
    .weekdays{display:grid;grid-template-columns:repeat(7,1fr);border-bottom:1px solid var(--grid)}
    .weekdays div{padding:10px 4px;text-align:center;font-size:12px;font-weight:800;color:#0b1220;border-right:1px solid var(--grid);background:#e2e8f0}
    .weekdays div:last-child{border-right:none}
    .grid{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:140px}
    @media (max-width:600px){.grid{grid-auto-rows:120px}}
    .day{position:relative;border-right:1px solid var(--grid);border-bottom:1px solid var(--grid);background:#fff;padding:8px}
    .day:nth-child(7n){border-right:none}
    .day .date{position:absolute;top:6px;right:6px;font-size:12px;font-weight:800}
    .day .tag{position:absolute;top:6px;left:6px;background:#fff;padding:2px 6px;border:1px solid var(--grid);border-radius:9px}
    .day.today{outline:3px solid var(--accent-2);outline-offset:-3px;background:linear-gradient(0deg,#e0f2fe,transparent)}
    .day.out{background:#f3f4f6;color:#94a3b8}
    .events{margin-top:22px;display:flex;flex-direction:column;gap:6px;overflow:hidden}
    .event{font-size:12px;padding:6px 8px;border-radius:8px;border:1px solid var(--grid);display:flex;align-items:center;gap:6px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .event .swatch{width:10px;height:10px;border-radius:3px;border:1px solid #0002}

    #upcoming{background:var(--panel);border:1px solid var(--grid);border-radius:8px;padding:10px;margin-top:12px}
    #upcoming h3{margin:0 0 8px 0}
    .up-item{display:flex;gap:8px;align-items:center;padding:8px;border:1px solid var(--grid);border-radius:10px;margin-bottom:8px}
    .up-item .date{font-weight:900;min-width:160px}
    .up-item .title{font-weight:800}
    .small{font-size:12px;color:var(--muted)}

    /* Add-to-Calendar pill styling */
    .add-to-cal {border:1px solid var(--grid); padding:10px; border-radius:12px; margin:8px 0; background:#fff}
    .add-to-cal a {display:inline-block; margin:6px 8px 0 0; padding:6px 10px; border:1px solid var(--grid); border-radius:10px; font-weight:700; text-decoration:none; color:inherit}
    .add-to-cal a:hover {background:#f8fafc}

    /* stained glass banner (CSS-only, no external image) */
    .glass{
      height:160px; border-radius:12px; margin:10px 0;
      position:relative; overflow:hidden; border:1px solid var(--grid);
      background:
        linear-gradient(120deg, #0ea5e980, #1e3a8a80),
        repeating-linear-gradient(35deg, #93c5fd 0 12px, #22d3ee 12px 24px, #a78bfa 24px 36px, #60a5fa 36px 48px);
    }
    .glass::before, .glass::after{ content:none; }

    /* tiny Admin pill */
    .admin-link{position:fixed;top:8px;left:8px;z-index:10}
    .admin-link a{border:1px solid var(--grid);padding:6px 10px;border-radius:10px;font-weight:800;background:#fff;text-decoration:none;color:inherit}
  </style>
</head>
<body>
  <!-- Admin link -->
  <div class="admin-link"><a href="admin/">Admin</a></div>

  <!-- Hero banner (inline SVG — no external image) -->
  <div id="intro" style="text-align:center; margin-top:24px">
    <a href="#calendar"
       aria-label="View Calendar"
       style="display:block; text-decoration:none; margin:0 auto; max-width:1100px"
       onclick="document.getElementById('intro').style.display='none';document.querySelector('.app').style.display='block'; return false;">
      <svg role="img" viewBox="0 0 1200 320" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg">
        <title>Trinity De Soto — View Calendar</title>
        <defs>
          <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#0ea5e9"/>
            <stop offset="1" stop-color="#1e3a8a"/>
          </linearGradient>
          <linearGradient id="glass1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#93c5fd"/>
            <stop offset="1" stop-color="#22d3ee"/>
          </linearGradient>
          <linearGradient id="glass2" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#38bdf8"/>
            <stop offset="1" stop-color="#34d399"/>
          </linearGradient>
          <linearGradient id="glass3" x1="0" y1="1" x2="1" y2="0">
            <stop offset="0" stop-color="#a78bfa"/>
            <stop offset="1" stop-color="#60a5fa"/>
          </linearGradient>
          <filter id="soft" x="-10%" y="-10%" width="120%" height="120%">
            <feGaussianBlur in="SourceGraphic" stdDeviation="0.6"/>
          </filter>
        </defs>
        <rect x="0" y="0" width="1200" height="320" fill="url(#bg)"/>
        <g opacity="0.9" filter="url(#soft)">
          <polygon points="0,40 180,0 260,60 90,120" fill="url(#glass1)"/>
          <polygon points="120,140 320,60 420,140 240,200" fill="url(#glass2)"/>
          <polygon points="280,220 500,140 620,220 380,280" fill="url(#glass3)"/>
          <polygon points="520,70 740,20 820,120 600,160" fill="url(#glass2)"/>
          <polygon points="700,200 920,140 1050,220 820,280" fill="url(#glass1)"/>
          <polygon points="960,60 1200,0 1200,120 1060,120" fill="url(#glass3)"/>
        </g>
        <g opacity="0.25">
          <rect x="585" y="40" width="30" height="240" fill="#ffffff"/>
          <rect x="500" y="150" width="200" height="30" fill="#ffffff"/>
        </g>
        <g fill="#ffffff">
          <text x="50%" y="48%" text-anchor="middle"
                font-family="system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial"
                font-size="34" letter-spacing="1">
            Trinity Episcopal Church • De Soto, MO
          </text>
          <rect x="425" y="200" rx="28" ry="28" width="350" height="56"
                fill="rgba(255,255,255,0.12)" stroke="rgba(255,255,255,0.35)"/>
          <text x="50%" y="236" text-anchor="middle"
                font-family="system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial"
                font-size="24">
            View Calendar
          </text>
        </g>
      </svg>
    </a>
  </div>

  <div class="app">
    <!-- everything else (header, controls, calendar, upcoming, recovery groups, scripts) stays the same -->
    <!-- ... -->
  </div>

  <!-- keep your existing scripts here (calendar logic, Netlify Identity, etc.) -->
</body>
</html>
